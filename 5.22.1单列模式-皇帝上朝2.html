<!DOCTYPE html>
<html>
<head>
	<title>单例模式</title>
	<script type="text/javascript">
		// function Person(name){
			// this.name =  name ;
		// }
		// var s1= new Person('ttt');
		// var s2= new Person('ttt');

		//这样new，会new出来多个，需求是不管怎么new，只构建一个

		//()();
		//前面包函数，后面是执行的。


		(function(w){
			function King (name){
				this.name = name;
				this.name = name;
				this.id= Math.random();
				}
			King.prototype = {
				constrctor:King,
				__proto__:Object.prototype,
				say:function(){
				console.log(this.name+this.id+'say');
			}

			}
			King.getKing = (function(){
				var king =null;
				return function(){
					if (!king) {
						king= new King('hhh');
					}
					return king;
				}
				//大小写分别代表啥

			})();
			w.King = King;
		})(window);

		for (var i = 0; i < 5; i++) {
			//new King('hhh').say();
			King.getKing().say();
			}

	</script>
</head>
<body>

</body>
</html>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>post请求</title>
</head>
<body>
<input type="button" value="按钮发送POST请求" name="" id="btn">
<ul id="uli">

</ul>
</body>
<script type="text/javascript">
	var obtn = document.getElementById('btn');
	var uli = document.getElementById('uli');
	obtn.onclick = function(){

		var oajax = new XMLHttpRequest();
		oajax.open('POST','http://127.0.0.1:3000/postreq',true);
		oajax.setRequestHeader("Content-type","application/x-www-form-urlencoded");

		//请求头

		
		oajax.send("name=tom&age=18");

		//监听
		oajax.onreadystatechange = function(){
			console.log(oajax.readyState);
			if (oajax.readyState==4) {
				console.log(oajax.status);
				if(oajax.status==200){
				console.log('get data' ,oajax.responseText);
				// var arr = JSON.parse(oajax,responseText);
				// for (var i = 0; i < arr.length; i++) {
				
				// var oli = document.createElement(li);
				// oli.innerHTML = '姓名'+arr[i].name+'年龄'+arr[i].age
				// uli.append(oli);
				// }
				
			}else{
				console.log('get data fail:',oajax.status)
			}
			}

		}
	}
</script>
</html>
<!DOCTYPE html>
<html>
<head>
	<title>滚动条</title>
	<style type="text/css">
	*{
		margin: 0;
		padding: 0;
	}
	#box{
		width: 500px;
		height: 50px;
		background-color: red;
		position: absolute;

	}
	#boxs{
		width: 0px;
		height: 0px;
		background-color: blue;
		/*margin-top:50px;*/
		opacity: 0;

	}
	#btn{width: 50px;
		height: 50px;
		background-color: pink;
		position: relative;


	}

		
	</style>
	<script type="text/javascript">
		window.onload= function(){
			var obox =document.getElementById('box');
			var oboxs =document.getElementById('boxs');
			var obtn =document.getElementById('btn');
		obtn.onmousedown =function(ev){
			var oEvent =ev||event;
			var disx=oEvent.clientX-obtn.offsetLeft;
		console.log(disx+"##");
			document.onmousemove = function(ev){
				var oEvent =ev||event;
				var l = oEvent.clientX-disx;
			console.log(l+"##");
			if (l<0) {
				l=0;
			 }else if(l>obox.offsetWidth-obtn.offsetWidth){
			 	l=obox.offsetWidth-obtn.offsetWidth;
			 }

			 var s=l/(obox.offsetWidth-obtn.offsetWidth) * 500;
			 
			  console.log(s);
			  oboxs.style.width=s+'px';
			   oboxs.style.height=s+'px';
			  oboxs.style.opacity=s;


				obtn.style.left=l+'px';

			}
		
			document.onmouseup =function(){
				document.onmousemove =null;
				document.onmouseup =null;

			}
		}
		
}
	</script>
</head>
<body>
	<div id="box">
		<input type="button" id="btn">
	</div>
	<div id="boxs"></div>

</body>
</html>
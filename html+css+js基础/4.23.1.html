<!DOCTYPE html>
<html>
<head>
	<title>鼠标hover</title>
	<style type="text/css">
		#box{
			width: 50px;
			height: 50px;
			background-color: red;
			opacity: 0.3;
		}
	</style>
	<script type="text/javascript">
		function animation(obj,iget){
			obj.style.opacity= iget;
			clearInterval(timer);
			timer =setInterval(function(){
				var curr =getComputedStyle(obj,false)['opacity'];
				// 字符串
				var speed =0;
				if (curr>iget) {
					speed= -0.1;
				}else{
					speed =0.1;
				}
				if (Math.abs(iget-curr)<=Math.abs(speed)) {
					clearInterval(timer);
					obj.style.opacity =iget;
				}else{
					obj.style.opacity=curr*1+speed;
				}
				console.log(curr+'###'+speed)

			},30)

		}
		window.onload =function(){
			
			var obox =document.getElementById('box');
			obox.onmouseover = function(){
				animation(this,1);
			} 
		}

	</script>
</head>
<body>
	<div id="box"></div>

</body>
</html>
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>ajax获取数据</title>
	<!-- 获取数据输出到控制台 -->
</head>
<body>
<input type="button" value="按钮" name="" id="btn">
</body>
<script type="text/javascript">
	var obtn = document.getElementById('btn');
	obtn.onclick = function(){
		//创建ajax对象
		var oajax = new XMLHttpRequest();
		//与服务器建立连接
		oajax.open("GET","http://127.0.0.1:3000/text1.txt",true);
		//发送请求  yibu异步true
		oajax.send();

		//监听ajax方法
		oajax.onreadystatechange = function(){
			console.log(oajax.readyState);
			//0还没初始化
			//1已经初始化
			//2send方法已经调用
			//3返回部分数据（send异步）
			//4 完全返回
			if (oajax.readyState==4) {
				//完全返回了
				// status是自己设置的404
				console.log(oajax.status);
				if(oajax.status==200){
					//看状态
				console.log('get data' ,oajax.responseText);
							//返回的数据oajax.responseText
			}else{
				console.log('get data fail:',oajax.status)
			}
			}

		}
	}
</script>
</html>